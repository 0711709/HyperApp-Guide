## 2016年7月18日12:30:25：

此处由于支持了了 MYSQL SSL 连接，需要您在 userapiconfig.py 里添加如下几段

> `MYSQL_SSL_ENABLE = 0`

> `MYSQL_SSL_CERT = '/root/shadowsocks/client-cert.pem'`

> `MYSQL_SSL_KEY = '/root/shadowsocks/client-key.pem'`

> `MYSQL_SSL_CA = '/root/shadowsocks/ca.pem'`

第一个是是否开启 SSL，0为关，1为开。
第二个和第三四个就是CA和客户端证书和密钥的地址。


## 2016年8月16日17:32:21：

此版本对于前一个版本的多线程特性做了些许改进，加了一个开关到 userapiconfig.py ，请根据自己的情况来决定是否开关。关闭这个开关之后就无法进行限速了。

 > `MULTI_THREAD = 0`

0 为关，1 为开。

## 2016年10月30日21:02:61：

此版本对于多用户单端口做了些许改进，加了两个设置到 userapiconfig.py ，请添加。

> MU_SUFFIX = 'baidu.com'

> MU_REGEX = '%5m%id.%suffix'

请务必和前端的配置文件里相对应的配置项保持一致，主要为前端 config/.config.php 里的

> `#多用户混淆参数后缀`

> `$System_Config['mu_suffix']='baidu.com';`

> `#多用户混淆参数表达式，%5m代表取用户特征 md5 的前五位，%id 代表用户id,%suffix 代表上面这个后缀。`

> `$System_Config['mu_regex']='%5m%id.%suffix';`

一定要一致。

## 2016年12月25日 黄昏之时：

此次更新不仅支持了中转系统，而且还真正支持了比较灵活的 redirect 策略，您可以自己按照您的需求来设置。

https://github.com/glzjin/shadowsocks/commit/e977841e02a3c5a9230fa157a456914066bf2079

您需要按照 json 格式来设置 user-config.json 这个文件，

redirect 那段应该如下格式

"redirect": ["*:8080#zhaoj.in:80","zhaojin97.cn:80#127.0.0.1:80","*#pku.edu.cn:80"]

 具体意思看 commit 原文 = =反正就是怎么个意思，我懒得打字了。注意，这里要是列表。

## 2017.01.18.07：00

这个版本为接手后的第一个版本，主要为 修复了一系列 bug ,添加了协议式单端口多用户，更加隐蔽，以及升级了原有单端口多用户，使其支持 UDP 转发，中转部分的规则匹配也更加准确。

但是，如果你是脚本运行的，你就会发现出了些问题，因为这个脚本里默认是 直接用 Python3 了，

当你发现更新之后无法运行，直接 git pull 再重新运行即可。

如果你需要使用 Python3 运行（遇到流量雪球问题可以试试），直接升级然后把 which python 出来的那个 链接文件 链接到 Python3 再运行即可。

自己上网搜 Python3 的运行方法吧。

## 2017.02.04

请在 userapiconfig.py 里添加一个设置项。

`#Safety`

`IP_MD5_SALT = 'randomforsafety'`

随机设置这个字符串，并保持在所有节点上这个字符串都一致。这个用于给记录的在线IP MD5 时加盐。



## 2017.02.15

此版本添加了 HTTP API。

您可以让后端用这个方式与面板进行沟通了，相比起之前的 MYSQL，稳定许多。

git pull 之后，来讲讲如何设置。

打开 userapiconfig.py 将 `API_INTERFACE` 这个参数改为 modwebapi

`API_INTERFACE = 'modwebapi'`

同时您需要添加以下两项来设置 HTTP API

`WEBAPI_URL = 'https://zhaoj.in'`

`WEBAPI_TOKEN = 'glzjin'`

第一项为您网站的地址，请按照上面这个格式输入地址，第二项为 token，为您网站 config/.config.php 内 muKey 的值。

然后保存之后，请按装 python ssl 所需的相关依赖，

以 Centos 6 为例，其他系统大同小异，主要就是安装所需要的依赖。

> yum -y install python-devel

> yum -y install libffi-devel

> yum -y install openssl-devel

然后在后端目录下 

> pip install -r requirements.txt

安装完依赖之后，就可以重启后端了。


